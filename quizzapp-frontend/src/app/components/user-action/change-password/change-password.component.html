
<div class = "background">
    <div class="container">
        <h1 class="title">Cambio Password</h1>
        <form [formGroup]="form" (ngSubmit)="changePassword()">
            <div class="div-form-control">
                <input type="password" formControlName="oldPassword" class="form-control" placeholder="Password vecchia">
                <br>
                <label *ngIf="form.get('oldPassword')?.dirty==true && form.get('oldPassword')?.valid==false" for="name" class="hint">Il campo deve essere compilato</label>
            </div>
            <div class="div-form-control">
                <input type="password" formControlName="password" class="form-control" placeholder="Nuova password">
                <br>
                <label *ngIf="form.get('password')?.dirty==true && form.get('password')?.valid==false" for="password" class="hint">Il campo password deve essere compilato e deve essere lungo almeno 8 caratteri contenente almeno lettera maiuscola, minuscola, un numero e i caratteri speciali come ! # $ % & ? .</label>
                <label *ngIf="this.form.getError('match') && this.form.get('password')?.dirty" class="hint">La password deve essere diversa dalla attuale</label>
            </div>
            <div class="div-form-control">
                <input type="password" formControlName="password2" class="form-control" placeholder="Ripeti nuova password">
                <br>
                <label *ngIf="this.form.getError('mismatch') && this.form.get('password2')?.dirty" class="hint">Le password devono coincidere</label>
            </div>
            <button type="submit" id="submit" [disabled]="!form.valid"  class="button" #submit>Cambio password</button>
        </form>
        <div class="feedback"><p>{{feedback}}</p></div>
    </div>
</div>