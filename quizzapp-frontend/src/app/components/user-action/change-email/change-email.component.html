
<div class = "background">
    <div class="container">
        <h1 class="title">Cambio email</h1>
        <form [formGroup]="form" (ngSubmit)="requestChange()">
            <div class="div-form-control">
                <input type="email" formControlName="newEmail" class="form-control" placeholder="Nuova email">
                <br>
                <label *ngIf="form.get('newEmail')?.dirty==true && form.get('newEmail')?.valid==false" for="newEmail" class="hint">IL campo deve essere compilato e deve contenere una mail valida</label>
                <label *ngIf="this.form.getError('mismatch') && this.form.get('newEmail')?.dirty" class="hint">La mail deve essere diversa dall'attuale</label>
            </div>
                <div class="div-form-control">
                <input type="password" formControlName="password" class="form-control" placeholder="Password">
                </div>
            <br>
            <button type="submit" id="submit" [disabled]="!form.valid"  class="button" #submit>Cambia email</button>
        </form>
        <p>{{feedback}}</p>
    </div>
</div>